import dataRestoran from"../../data/data";import UrlParser from"../../routes/url-parser";import API_ENDPOINT from"../../global/api-endpoint";import favoriteRestaurant from"../../data/favoriteResto-idb";const detailResto={async render(){const e=document.querySelector(".daftar-restoran"),t=["Fine Dining","Fast Food","Healthy Restaurant","Casual Dining","Family Restaurant","Seafood Restaurant","Indonesian Cuisine","Italian Restaurant"],n=UrlParser.parseActiveUrlWithoutCombiner(),a=await dataRestoran.getDetail(n.id);(n=>{const a=document.createElement("div");a.classList.add("item-restoran"),a.setAttribute("tabindex",0);const r=document.createElement("div");r.classList.add("gambar-restoran");const s=document.createElement("div");s.classList.add("heading-restoran");const d=document.createElement("div");d.classList.add("deskripsi-restoran");const c=document.createElement("img");c.setAttribute("src",API_ENDPOINT.IMAGE(n.pictureId,"large")),c.setAttribute("alt","Foto Restoran");const o=document.createElement("button");o.classList.add("favorite-button"),o.innerText="Add Favorite";const i=document.createElement("button");i.classList.add("unfavorite-button"),i.innerText="Un-Favorite",r.append(c,o,i);const m=document.createElement("a");m.classList.add("nama-restoran"),m.setAttribute("href",`/#/detail/${n.id}`);const l=document.createElement("p");l.innerText=n.name,m.append(l);const u=document.createElement("div");u.classList.add("kota-restoran");const p=document.createElement("p");p.innerText=n.address,u.append(p);const E=document.createElement("p");E.innerText=n.city,u.append(E);const v=document.createElement("div");v.classList.add("rating-restoran");const L=document.createElement("p");L.innerText=`Rating: ${n.rating}`,v.append(L),s.append(m,u,v);const f=document.createElement("p");f.innerText=n.description,d.append(f);const T=document.createElement("div");T.classList.add("kategori-restoran");const R=document.createElement("p");R.innerText=t[Math.floor(6*Math.random()+1)],T.append(R);const x=document.createElement("div");x.classList.add("menu-restoran");const b=document.createElement("div");b.classList.add("menu-makanan");const g=document.createElement("p");g.innerText="Menu Makanan:";const k=document.createElement("div");k.classList.add("list-menu-makanan"),n.menus.foods.forEach((e=>{const t=document.createElement("p");t.innerText=`${e.name}`,k.append(t)})),b.append(g,k);const w=document.createElement("div");w.classList.add("menu-minuman");const h=document.createElement("p");h.innerText="Menu Minuman:";const y=document.createElement("div");y.classList.add("list-menu-makanan"),n.menus.drinks.forEach((e=>{const t=document.createElement("p");t.innerText=`${e.name}`,y.append(t)})),w.append(h,y),x.append(b,w);const A=document.createElement("div");A.classList.add("review-pelanggan");const F=document.createElement("p");F.innerText="Review Pelanggan:";const M=document.createElement("div");M.classList.add("review-detail"),n.customerReviews.forEach((e=>{const t=document.createElement("div");t.classList.add("review-detail-block");const n=document.createElement("p");n.classList.add("nama-review"),n.innerText=`${e.name} - ${e.date}`;const a=document.createElement("p");a.classList.add("isi-review"),a.innerText=`${e.review}`,t.append(n,a),M.append(t)})),A.append(F,M),a.append(r,s,d,T,x,A);const I=a.outerHTML;e.innerHTML=I})(a.restaurant),document.querySelector(".favorite-button").addEventListener("click",(async()=>{await favoriteRestaurant.putFavoriteRestaurant(a.restaurant)})),document.querySelector(".unfavorite-button").addEventListener("click",(async()=>{await favoriteRestaurant.deleteFavoriteRestaurant(a.restaurant.id)}))}};export default detailResto;